:root { --gap: 18px; }
html,body { height: 100%; }
body {
  margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans";
  color: #111827; background: #f7f8fb; padding: 20px;
}
.wrap { max-width: 1200px; margin: 0 auto; }
.grid { display: grid; gap: var(--gap); grid-template-columns: 1fr 480px; align-items: start; }
.side { display:flex; flex-direction:column; gap:var(--gap); }
@media (max-width: 980px) { .grid { grid-template-columns: 1fr; } }
.card {
  background: #fff; border: 1px solid #e5e7eb; border-radius: 14px;
  box-shadow: 0 1px 2px rgba(0,0,0,.04); padding: 14px; display: flex;
  flex-direction: column; gap: 10px;
}
.card h2 { margin: 0 0 6px 2px; font-size: 16px; font-weight: 600; color: #374151; }
.figure { border-radius: 10px; background: #fafbfc; overflow: hidden; border: 1px solid #eef0f3; }
.figure svg { width: 100%; height: auto; display: block; background: #fff; }
.toolbar { display: flex; gap: 10px; justify-content: flex-start; align-items: center; flex-wrap: wrap; }
.btn {
  appearance: none; border: 1px solid #d1d5db; background: #fff; border-radius: 10px;
  padding: 8px 12px; font-size: 14px; cursor: pointer;
  transition: box-shadow .2s, transform .02s;
}
.btn:hover { box-shadow: 0 2px 8px rgba(0,0,0,.06); }
.btn:active { transform: translateY(1px); }
.status {
  position: absolute;
  width: 1px; height: 1px; margin: -1px;
  padding: 0; overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}
.settings { display: flex; flex-direction: column; gap: 8px; }
.settings label { display: flex; flex-direction: column; font-size: 13px; color: #4b5563; }
.settings input, .settings select { padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 10px; font-size: 14px; background: #fff; width: 100%; }
.settings fieldset { border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; margin: 0; display: flex; flex-direction: column; gap: 10px; }
.settings legend { font-weight: 600; font-size: 13px; color: #374151; padding: 0 4px; }
.settings-row { display: flex; gap: 8px; }
.settings-row label { flex: 1; }
.series-settings { display: flex; flex-wrap: wrap; gap: 10px; align-items: stretch; }
.series-settings fieldset { flex: 1 1 220px; min-width: 200px; }
.series-settings .addFigureBtn { width: clamp(40px, 8vw, 60px); aspect-ratio: 1; border: 2px dashed #cfcfcf; border-radius: 10px; background: #fff; display: flex; align-items: center; justify-content: center; font-size: 20px; color: #6b7280; cursor: pointer; align-self: center; }
.series-settings .addFigureBtn:hover { box-shadow: 0 2px 8px rgba(0,0,0,.06); }
.series-settings .addFigureBtn:active { transform: translateY(1px); }
#chartTitle { text-align: center; font-size: 20px; margin: 0 0 6px; }

/* Akser og rutenett */
.axis{stroke:#222;stroke-width:3;fill:none}
.gridline{stroke:#999;stroke-width:1;opacity:.6}
.yTickText{fill:#333;font-size:14px;text-anchor:end}
.xLabel{fill:#333;font-size:18px;text-anchor:middle}
.yLabel{fill:#333;font-size:18px}

/* Søyler + vurderingsrammer */
.bar{stroke:#000;stroke-width:4;opacity:1;fill-opacity:1}
.bar.series0{fill:#574595}
.bar.series1{fill:#d081a1}
.bar.badge-ok{stroke:#2e7d32;stroke-width:4}
.bar.badge-no{stroke:#c62828;stroke-width:4}
.pie-slice.badge-ok{stroke:#2e7d32;stroke-width:4}
.pie-slice.badge-no{stroke:#c62828;stroke-width:4}

/* Linjediagram */
.line{fill:none;stroke-width:4}
.line.series0{stroke:#574595}
.line.series1{stroke:#d081a1}
.line-dot.series0{fill:#574595}
.line-dot.series1{fill:#d081a1}

/* Legend */
.legendbox.series0{fill:#574595}
.legendbox.series1{fill:#d081a1}
.legendtext{fill:#333;font-size:16px}

/* Håndtak */
.handleShadow{fill:#000;opacity:.14}
.handle{fill:#f1f1f7;stroke:#555;stroke-width:2;cursor:pointer}

/* Sektordiagram */
.pie-slice{stroke:#fff;stroke-width:2;cursor:pointer}
.pie-divider{stroke:#fff;stroke-width:2;stroke-dasharray:6 6;opacity:.6}
.pie-label{fill:#333;font-size:16px;font-weight:600;pointer-events:none}
.pie-label__value{font-size:14px;font-weight:400;pointer-events:none}
.pie-slice-0{fill:#4f2c8c}
.pie-slice-1{fill:#6c3db5}
.pie-slice-2{fill:#8a4de0}
.pie-slice-3{fill:#a75cf1}
.pie-slice-4{fill:#c26ef0}
.pie-slice-5{fill:#d381ba}
.pie-slice-6{fill:#c46287}
.pie-slice-7{fill:#9f436d}
.pie-slice-8{fill:#723a82}
.pie-slice-9{fill:#503070}

/* Verdi‐tekst over søyle (ikke-interaktiv) */
.value{fill:#111;font-size:16px;text-anchor:middle;paint-order:stroke fill;stroke:#fff;stroke-width:6;pointer-events:none}
.value-fo{overflow:visible;pointer-events:none}
.value.value--html{color:#111;font-size:16px;justify-content:center;text-align:center;text-shadow:0 0 6px #fff,0 0 2px #fff;font-weight:500;}
.value.value--html .katex{pointer-events:none}

/* Låsing */
.bar.locked{cursor:not-allowed}
.handle.locked{fill:#e5e7eb;cursor:not-allowed}
.pie-slice.locked{cursor:not-allowed}

/* Fokus + tastatur (A11y-overlay) */
.a11y{cursor:ns-resize;fill:transparent;stroke:none}
.a11y:focus{outline:none;stroke:#1e88e5;stroke-width:3}

.xAxisLabel{fill:#333;font-size:18px;text-anchor:middle}

.alt-text{display:flex;flex-direction:column;gap:8px;margin-top:4px}
.alt-text label{font-size:13px;color:#4b5563;font-weight:600}
.alt-text textarea{min-height:104px;padding:10px;border:1px solid #d1d5db;border-radius:10px;font-size:14px;font-family:inherit;resize:vertical;background:#fff;color:#111}
.alt-text textarea:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px rgba(99,102,241,.15)}
.alt-text__footer{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.alt-text__status{font-size:12px;color:#6b7280;min-height:18px;flex:1}
.alt-text__status.alt-text__status--error{color:#b91c1c}
