<!doctype html>
<html lang="nb">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Brøksirkler</title>
  <link rel="stylesheet" href="base.css" />

<style>
    :root { --purple:#5B2AA5; --rim:#333; --dash:#000; }
    input[type="number"], select { width:100%; box-sizing:border-box; }
    fieldset { border:1px solid #e5e7eb; border-radius:10px; padding:10px; margin:0; display:flex; flex-direction:column; gap:8px; }
    .settings { display:flex; gap:var(--gap); }
    .settings fieldset { flex:1; }
    legend { font-weight:600; font-size:13px; color:#374151; padding:0 4px; }
    .checkbox-row { display:flex; align-items:center; gap:6px; }
    .field-row { display:flex; gap:10px; flex-wrap:wrap; }
    .field-row .field { flex:1 1 140px; display:flex; flex-direction:column; gap:4px; }
    .input-stack { display:flex; flex-direction:column; gap:4px; }

    /* Kontainer for pizzaer og tegn mellom dem */
    .grid2 {
      --panel-min: clamp(200px, 28vw, 360px);
      display:flex;
      flex-wrap:wrap;
      gap:clamp(16px,2vw,24px);
      align-items:flex-start;
      justify-content:center;
      padding-bottom:8px;
    }
    .grid2.is-stacked {
      flex-direction:column;
      align-items:center;
    }
    .grid2.is-stacked .pizzaPanel,
    .grid2.is-stacked .opDisplay,
    .grid2.is-stacked .addFigureBtn {
      width:min(100%, 420px);
      align-self:stretch;
    }
    .grid2.is-stacked .pizzaPanel {
      flex:0 1 auto;
      min-width:0;
    }
    .grid2.is-stacked .opDisplay,
    .grid2.is-stacked .addFigureBtn {
      flex:0 0 auto;
      align-self:center;
    }
    .pizzaPanel {
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
      flex:1 1 var(--panel-min);
      min-width:var(--panel-min);
      max-width:420px;
    }
    .pizzaPanel .removeFigureBtn {
      align-self:center;
    }
    .opDisplay {
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:clamp(36px,5vw,60px);
      flex:0 0 clamp(48px,6vw,80px);
      min-height:48px;
      align-self:center;
    }
    .addFigureBtn {
      flex:0 0 clamp(36px,calc(var(--panel-min,220px)*0.35),70px);
      width:min(100%,clamp(36px,calc(var(--panel-min,220px)*0.35),70px));
      aspect-ratio:1;
      border:2px dashed #cfcfcf;
      border-radius:10px;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      color:#6b7280;
      cursor:pointer;
      justify-self:center;
      align-self:center;
    }
    .panelHeader { width:100%; display:grid; place-items:center; }
    .frac { font-size:28px; line-height:1; text-align:center; }
    .frac .num { display:block; border-bottom:2px solid #000; margin-bottom:4px; }
    .frac .den { display:block; }
    svg.pizza { width:100%; max-width:420px; height:auto; background:#fff; }
    .rim { fill:none; stroke:var(--rim); stroke-width:6; }
    .sector { stroke:#fff; stroke-width:6; }
    .sector-fill  { fill:var(--purple); }
    .sector-empty { fill:#fff; }
    .dash { stroke:var(--dash); stroke-dasharray:4 4; stroke-width:2; }
    .handle { fill:#e9e6f7; stroke:#333; stroke-width:2; cursor:pointer; }
    .stepper {
      display:flex; align-items:center; gap:12px;
      padding:6px 10px; border:1px solid #cfcfcf; border-radius:12px;
      box-shadow:0 2px 10px rgba(0,0,0,.06); background:#fff;
    }
    .stepper button {
      width:40px; height:36px; border:1px solid #cfcfcf; border-radius:8px;
      background:#fff; font-size:20px; cursor:pointer;
    }
    .stepper span { min-width:32px; text-align:center; font-variant-numeric:tabular-nums; font-size:16px; }
    .a11y:focus { outline:none; stroke:#1e88e5; stroke-width:3; }
  </style>
  <link rel="stylesheet" href="split.css" />
</head>
<body>
  <div class="wrap">
    <div class="grid layout--sidebar">

      <div class="card">
        <div class="grid2">
          <!-- Pizza 1 -->
          <div id="panel1" class="pizzaPanel">
            <!-- Flyttes inn i .panelHeader av JS -->
            <div id="frac1" class="frac" aria-live="polite">
              <span class="num">8</span><span class="den">10</span>
            </div>

            <svg id="pizza1" class="pizza" viewBox="-210 -210 420 420" aria-label="Brøkpizza 1">
              <title>Brøkpizza 1: 8 /10</title>
              <desc>Viser 10 sektorer totalt, 8 av dem er fylt</desc>
            </svg>

            <div class="stepper" aria-label="Antall sektorer pizza 1">
              <button id="nMinus1" type="button" aria-label="Færre sektorer">−</button>
              <span id="nVal1">10</span>
              <button id="nPlus1"  type="button" aria-label="Flere sektorer">+</button>
            </div>
          </div>

          <div id="opDisplay1" class="opDisplay" style="display:none"></div>

          <!-- Pizza 2 -->
          <div id="panel2" class="pizzaPanel" style="display:none">
            <div id="frac2" class="frac" aria-live="polite">
              <span class="num">4</span><span class="den">10</span>
            </div>

            <svg id="pizza2" class="pizza" viewBox="-210 -210 420 420" aria-label="Brøkpizza 2">
              <title>Brøkpizza 2: 4 /10</title>
              <desc>Viser 10 sektorer totalt, 4 av dem er fylt</desc>
            </svg>

            <div class="stepper" aria-label="Antall sektorer pizza 2">
              <button id="nMinus2" type="button" aria-label="Færre sektorer">−</button>
              <span id="nVal2">10</span>
              <button id="nPlus2"  type="button" aria-label="Flere sektorer">+</button>
            </div>
            <button id="removePizza2" class="btn removeFigureBtn" type="button" aria-label="Fjern figur">Fjern figur</button>
          </div>

          <div id="opDisplay2" class="opDisplay" style="display:none"></div>

          <!-- Pizza 3 -->
          <div id="panel3" class="pizzaPanel" style="display:none">
            <div id="frac3" class="frac" aria-live="polite">
              <span class="num">4</span><span class="den">10</span>
            </div>

            <svg id="pizza3" class="pizza" viewBox="-210 -210 420 420" aria-label="Brøkpizza 3">
              <title>Brøkpizza 3: 4 /10</title>
              <desc>Viser 10 sektorer totalt, 4 av dem er fylt</desc>
            </svg>

            <div class="stepper" aria-label="Antall sektorer pizza 3">
              <button id="nMinus3" type="button" aria-label="Færre sektorer">−</button>
              <span id="nVal3">10</span>
              <button id="nPlus3"  type="button" aria-label="Flere sektorer">+</button>
            </div>
            <button id="removePizza3" class="btn removeFigureBtn" type="button" aria-label="Fjern figur">Fjern figur</button>
          </div>

          <button id="addPizza" class="addFigureBtn" type="button" aria-label="Legg til pizza">+</button>
        </div>
      </div>

      <div class="side">
        <div class="card card--examples">
          <div class="example-description">
            <label for="exampleDescription">Oppgavetekst (valgfritt)</label>
            <textarea id="exampleDescription" placeholder="Skriv en oppgavetekst som lagres med eksemplet"></textarea>
          </div>
          <div class="toolbar">
            <button id="btnSaveExample" class="btn" type="button">Lagre eksempel</button>
            <button id="btnDeleteExample" class="btn" type="button">Slett eksempel</button>
          </div>
        </div>

        <div class="card card--settings">
          <div class="settings">
          <fieldset>
            <legend>Pizza 1</legend>
            <div class="field-row">
              <div class="field">
                <label for="p1T">Teller (t)</label>
                <input id="p1T" type="number" value="3" min="0">
              </div>
              <div class="field">
                <label for="p1N">Nevner (n)</label>
                <input id="p1N" type="number" value="10" min="1">
              </div>
            </div>
            <div class="checkbox-row"><input id="p1LockN" type="checkbox"><label for="p1LockN">Mulighet for å endre nevner</label></div>
            <div class="checkbox-row"><input id="p1HideNVal" type="checkbox"><label for="p1HideNVal">Vis verdien til nevner</label></div>
            <div class="checkbox-row"><input id="p1LockT" type="checkbox"><label for="p1LockT">Mulighet for å endre teller</label></div>
            <label for="p1Text">Vis tekst over brøkpizza som:</label>
            <select id="p1Text">
              <option value="none" selected>Ingen tekst</option>
              <option value="frac">Brøk</option>
              <option value="decimal">Desimaltall</option>
              <option value="percent">prosent</option>
            </select>
            <div class="field-row">
              <div class="field">
                <label for="p1MinN">Min n</label>
                <input id="p1MinN" type="number" value="1" min="1">
              </div>
              <div class="field">
                <label for="p1MaxN">Maks n</label>
                <input id="p1MaxN" type="number" value="24" min="1">
              </div>
            </div>
            <div id="op1Wrapper" class="input-stack">
              <label for="op1">Operator etter brøksirkel</label>
              <select id="op1">
                <option value="">none</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="=">=</option>
              </select>
            </div>
          </fieldset>

          <fieldset id="fieldset2" style="display:none">
            <legend>Pizza 2</legend>
            <div class="field-row">
              <div class="field">
                <label for="p2T">Teller (t)</label>
                <input id="p2T" type="number" value="4" min="0">
              </div>
              <div class="field">
                <label for="p2N">Nevner (n)</label>
                <input id="p2N" type="number" value="10" min="1">
              </div>
            </div>
            <div class="checkbox-row"><input id="p2LockN" type="checkbox"><label for="p2LockN">Mulighet for å endre nevner</label></div>
            <div class="checkbox-row"><input id="p2HideNVal" type="checkbox"><label for="p2HideNVal">Vis verdien til nevner</label></div>
            <div class="checkbox-row"><input id="p2LockT" type="checkbox"><label for="p2LockT">Mulighet for å endre teller</label></div>
            <label for="p2Text">Vis tekst over brøkpizza som:</label>
            <select id="p2Text">
              <option value="none" selected>Ingen tekst</option>
              <option value="frac">Brøk</option>
              <option value="decimal">Desimaltall</option>
              <option value="percent">prosent</option>
            </select>
            <div class="field-row">
              <div class="field">
                <label for="p2MinN">Min n</label>
                <input id="p2MinN" type="number" value="1" min="1">
              </div>
              <div class="field">
                <label for="p2MaxN">Maks n</label>
                <input id="p2MaxN" type="number" value="24" min="1">
              </div>
            </div>
            <div id="op2Wrapper" class="input-stack">
              <label for="op2">Operator etter brøksirkel</label>
              <select id="op2">
                <option value="">none</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="=">=</option>
              </select>
            </div>
          </fieldset>

          <fieldset id="fieldset3" style="display:none">
            <legend>Pizza 3</legend>
            <div class="field-row">
              <div class="field">
                <label for="p3T">Teller (t)</label>
                <input id="p3T" type="number" value="4" min="0">
              </div>
              <div class="field">
                <label for="p3N">Nevner (n)</label>
                <input id="p3N" type="number" value="10" min="1">
              </div>
            </div>
            <div class="checkbox-row"><input id="p3LockN" type="checkbox"><label for="p3LockN">Mulighet for å endre nevner</label></div>
            <div class="checkbox-row"><input id="p3HideNVal" type="checkbox"><label for="p3HideNVal">Vis verdien til nevner</label></div>
            <div class="checkbox-row"><input id="p3LockT" type="checkbox"><label for="p3LockT">Mulighet for å endre teller</label></div>
            <label for="p3Text">Vis tekst over brøkpizza som:</label>
            <select id="p3Text">
              <option value="none" selected>Ingen tekst</option>
              <option value="frac">Brøk</option>
              <option value="decimal">Desimaltall</option>
              <option value="percent">prosent</option>
            </select>
            <div class="field-row">
              <div class="field">
                <label for="p3MinN">Min n</label>
                <input id="p3MinN" type="number" value="1" min="1">
              </div>
              <div class="field">
                <label for="p3MaxN">Maks n</label>
                <input id="p3MaxN" type="number" value="24" min="1">
              </div>
            </div>
          </fieldset>
          </div>
        </div>

        <div class="card" id="exportCard">
          <h2>Eksporter</h2>
          <div class="toolbar">
            <button id="btnStaticAll" class="btn" type="button">Last ned SVG</button>
            <button id="btnInteractiveAll" class="btn" type="button">Last ned interaktiv SVG</button>
            <button id="btnPngAll" class="btn" type="button">Last ned PNG</button>
          </div>
        </div>

      </div>
    </div>
    </div>

    <script src="alt-text-ui.js"></script>
    <script src="brøkpizza.js"></script>
  <script src="examples.js"></script>
  <script src="split.js"></script>

  </body>
  </html>
